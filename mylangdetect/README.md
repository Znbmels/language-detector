# MyLangDetect

–ü—Ä–æ—Å—Ç–∞—è –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —è–∑—ã–∫–∞ —Ç–µ–∫—Å—Ç–∞ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –ø—Ä–µ–¥–æ–±—É—á–µ–Ω–Ω–æ–π TF-IDF –º–æ–¥–µ–ª–∏ –∏ —Å–∏–º–≤–æ–ª—å–Ω—ã—Ö n-–≥—Ä–∞–º–º.

## –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏

- üöÄ **–ë—ã—Å—Ç—Ä–∞—è –¥–µ—Ç–µ–∫—Ü–∏—è** - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—É—é TF-IDF –º–æ–¥–µ–ª—å
- üåç **55 —è–∑—ã–∫–æ–≤** - –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —à–∏—Ä–æ–∫–∏–π —Å–ø–µ–∫—Ç—Ä —è–∑—ã–∫–æ–≤ –≤–∫–ª—é—á–∞—è –∫–∞–∑–∞—Ö—Å–∫–∏–π
- üì¶ **–ü—Ä–æ—Å—Ç–æ–π API** - –æ–¥–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è –¥–ª—è –¥–µ—Ç–µ–∫—Ü–∏–∏ —è–∑—ã–∫–∞
- üéØ **–í—ã—Å–æ–∫–∞—è —Ç–æ—á–Ω–æ—Å—Ç—å** - 99.1% —Ç–æ—á–Ω–æ—Å—Ç—å –Ω–∞ —Ç–µ—Å—Ç–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö
- ‚ö° **–ì–æ—Ç–æ–≤–∞—è –º–æ–¥–µ–ª—å** - –ø—Ä–µ–¥–æ–±—É—á–µ–Ω–Ω–∞—è –º–æ–¥–µ–ª—å –≤–∫–ª—é—á–µ–Ω–∞ –≤ –ø–∞–∫–µ—Ç

## –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ —è–∑—ã–∫–∏

–ë–∏–±–ª–∏–æ—Ç–µ–∫–∞ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç 55 —è–∑—ã–∫–æ–≤, –≤–∫–ª—é—á–∞—è:
- **EN** - –ê–Ω–≥–ª–∏–π—Å–∫–∏–π
- **RU** - –†—É—Å—Å–∫–∏–π  
- **KK** - –ö–∞–∑–∞—Ö—Å–∫–∏–π
- **DE** - –ù–µ–º–µ—Ü–∫–∏–π
- **FR** - –§—Ä–∞–Ω—Ü—É–∑—Å–∫–∏–π
- **ES** - –ò—Å–ø–∞–Ω—Å–∫–∏–π
- **IT** - –ò—Ç–∞–ª—å—è–Ω—Å–∫–∏–π
- **PT** - –ü–æ—Ä—Ç—É–≥–∞–ª—å—Å–∫–∏–π
- **AR** - –ê—Ä–∞–±—Å–∫–∏–π
- **ZH** - –ö–∏—Ç–∞–π—Å–∫–∏–π
- **JA** - –Ø–ø–æ–Ω—Å–∫–∏–π
- **KO** - –ö–æ—Ä–µ–π—Å–∫–∏–π
- –ò –º–Ω–æ–≥–∏–µ –¥—Ä—É–≥–∏–µ...

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞

### –ß–µ—Ä–µ–∑ pip (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

```bash
pip install .
```

### –ü—Ä—è–º–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

```bash
# –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –ø–∞–ø–∫—É mylangdetect –≤ –≤–∞—à –ø—Ä–æ–µ–∫—Ç
cp -r mylangdetect /path/to/your/project/
```

## –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### –ü—Ä–æ—Å—Ç–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

```python
from mylangdetect import detect_language

# –û–ø—Ä–µ–¥–µ–ª–∏—Ç—å —è–∑—ã–∫
result = detect_language("Hello world")
print(result)  # "EN"

result = detect_language("–ü—Ä–∏–≤–µ—Ç –º–∏—Ä")
print(result)  # "RU"

result = detect_language("–°”ô–ª–µ–º –¥“Ø–Ω–∏–µ")
print(result)  # "KK"
```

### CLI-—É—Ç–∏–ª–∏—Ç–∞

–ü–æ—Å–ª–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –¥–æ—Å—Ç—É–ø–Ω–∞ –∫–æ–º–∞–Ω–¥–∞ `mylang-detect`:

```bash
# –û–ø—Ä–µ–¥–µ–ª–∏—Ç—å —è–∑—ã–∫ –æ–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–∏
mylang-detect "Hello, world!"

# –¢–æ–ø-3 –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏—è –≤ JSON
mylang-detect -k 3 -j "–ü—Ä–∏–≤–µ—Ç, –∫–∞–∫ –¥–µ–ª–∞?"

# –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∏–∑ —Ñ–∞–π–ª–∞
mylang-detect -f path/to/text.txt

# –°–ø–∏—Å–æ–∫ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã—Ö —è–∑—ã–∫–æ–≤
mylang-detect --list-langs

# –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–π —Ä–µ–∂–∏–º
mylang-detect
```

### –î–µ—Ç–∞–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è

```python
from mylangdetect import detect_language_detailed

result = detect_language_detailed("Hello world")
print(result)
# {
#     "language": "EN",
#     "confidence": 0.95,
#     "top_k": [("EN", 0.95), ("FR", 0.03), ("DE", 0.02)]
# }
```

### –ü—Ä–æ–¥–≤–∏–Ω—É—Ç–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

```python
from mylangdetect import TfidfLangID

# –ó–∞–≥—Ä—É–∑–∏—Ç—å –º–æ–¥–µ–ª—å
detector = TfidfLangID.load_from_package()

# –ü—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–µ –¥–ª—è –æ–¥–Ω–æ–≥–æ —Ç–µ–∫—Å—Ç–∞
result = detector.predict_one("Hello world", top_k=5)
print(f"–Ø–∑—ã–∫: {result['language']}")
print(f"–£–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å: {result['confidence']:.2%}")
print("–¢–æ–ø-5 —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤:")
for lang, conf in result['top_k']:
    print(f"  {lang}: {conf:.2%}")

# –ü—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–µ –¥–ª—è —Å–ø–∏—Å–∫–∞ —Ç–µ–∫—Å—Ç–æ–≤
texts = ["Hello", "–ü—Ä–∏–≤–µ—Ç", "–°”ô–ª–µ–º"]
results = detector.predict(texts)
for text, result in zip(texts, results):
    print(f"{text} -> {result['language']}")
```

### –ü–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã—Ö —è–∑—ã–∫–æ–≤

```python
from mylangdetect import get_supported_languages

languages = get_supported_languages()
print(f"–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è {len(languages)} —è–∑—ã–∫–æ–≤:")
print(languages[:10])  # –ü–µ—Ä–≤—ã–µ 10 —è–∑—ã–∫–æ–≤
```

## API Reference

### `detect_language(text, top_k=1)`

–û–ø—Ä–µ–¥–µ–ª—è–µ—Ç —è–∑—ã–∫ —Ç–µ–∫—Å—Ç–∞ –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –∫–æ–¥ —è–∑—ã–∫–∞.

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `text` (str): –¢–µ–∫—Å—Ç –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞
- `top_k` (int): –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ç–æ–ø-–ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–π (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: 1)

**–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:**
- `str`: –ö–æ–¥ —è–∑—ã–∫–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, "EN", "RU", "KK")

### `detect_language_detailed(text, top_k=3)`

–û–ø—Ä–µ–¥–µ–ª—è–µ—Ç —è–∑—ã–∫ —Ç–µ–∫—Å—Ç–∞ —Å –¥–µ—Ç–∞–ª—å–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π.

**–ü–∞—Ä–∞–º–µ—Ç—Ä—ã:**
- `text` (str): –¢–µ–∫—Å—Ç –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞  
- `top_k` (int): –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ç–æ–ø-–ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–π (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: 3)

**–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:**
- `dict`: –°–ª–æ–≤–∞—Ä—å —Å –∫–ª—é—á–∞–º–∏:
  - `language`: –ö–æ–¥ –Ω–∞–∏–±–æ–ª–µ–µ –≤–µ—Ä–æ—è—Ç–Ω–æ–≥–æ —è–∑—ã–∫–∞
  - `confidence`: –£—Ä–æ–≤–µ–Ω—å —É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç–∏ (0.0 –¥–æ 1.0)
  - `top_k`: –°–ø–∏—Å–æ–∫ –∫–æ—Ä—Ç–µ–∂–µ–π (—è–∑—ã–∫, —É–≤–µ—Ä–µ–Ω–Ω–æ—Å—Ç—å)

### `TfidfLangID`

–û—Å–Ω–æ–≤–Ω–æ–π –∫–ª–∞—Å—Å –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –º–æ–¥–µ–ª—å—é.

**–ú–µ—Ç–æ–¥—ã:**
- `load_from_package(model_name="tfidf_langid.joblib)`: –ó–∞–≥—Ä—É–∑–∏—Ç—å –º–æ–¥–µ–ª—å –∏–∑ –ø–∞–∫–µ—Ç–∞
- `predict_one(text, top_k=3)`: –ü—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–µ –¥–ª—è –æ–¥–Ω–æ–≥–æ —Ç–µ–∫—Å—Ç–∞
- `predict(texts, top_k=3)`: –ü—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–µ –¥–ª—è —Å–ø–∏—Å–∫–∞ —Ç–µ–∫—Å—Ç–æ–≤

### `get_supported_languages()`

–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å–ø–∏—Å–æ–∫ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã—Ö —è–∑—ã–∫–æ–≤.

**–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:**
- `list`: –°–ø–∏—Å–æ–∫ –∫–æ–¥–æ–≤ —è–∑—ã–∫–æ–≤

## –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –í–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ

```python
from flask import Flask, request, jsonify
from mylangdetect import detect_language_detailed

app = Flask(__name__)

@app.route('/detect', methods=['POST'])
def detect():
    data = request.get_json()
    text = data.get('text', '')
    
    if not text:
        return jsonify({'error': 'No text provided'}), 400
    
    result = detect_language_detailed(text)
    return jsonify(result)

if __name__ == '__main__':
    app.run()
```

### –û–±—Ä–∞–±–æ—Ç–∫–∞ —Ñ–∞–π–ª–æ–≤

```python
from mylangdetect import detect_language
import os

def process_text_files(directory):
    results = {}
    
    for filename in os.listdir(directory):
        if filename.endswith('.txt'):
            filepath = os.path.join(directory, filename)
            with open(filepath, 'r', encoding='utf-8') as f:
                text = f.read()
                language = detect_language(text)
                results[filename] = language
    
    return results

# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
results = process_text_files('./documents')
for filename, language in results.items():
    print(f"{filename}: {language}")
```

## –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

- **–ú–æ–¥–µ–ª—å**: TF-IDF —Å —Å–∏–º–≤–æ–ª—å–Ω—ã–º–∏ n-–≥—Ä–∞–º–º–∞–º–∏ (1-5 —Å–∏–º–≤–æ–ª–æ–≤)
- **–ö–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ç–æ—Ä**: SVM —Å –∫–∞–ª–∏–±—Ä–æ–≤–∫–æ–π –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç–µ–π
- **–¢–æ—á–Ω–æ—Å—Ç—å**: 99.1% –Ω–∞ —Ç–µ—Å—Ç–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö
- **–†–∞–∑–º–µ—Ä –º–æ–¥–µ–ª–∏**: ~50MB
- **–í—Ä–µ–º—è –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏—è**: ~1-5ms –Ω–∞ —Ç–µ–∫—Å—Ç

## –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- Python 3.7+
- scikit-learn >= 1.0.0
- numpy >= 1.20.0
- joblib >= 1.0.0

## –õ–∏—Ü–µ–Ω–∑–∏—è

MIT License

## –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ï—Å–ª–∏ —É –≤–∞—Å –µ—Å—Ç—å –≤–æ–ø—Ä–æ—Å—ã –∏–ª–∏ –ø—Ä–æ–±–ª–µ–º—ã, —Å–æ–∑–¥–∞–π—Ç–µ issue –≤ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏ –ø—Ä–æ–µ–∫—Ç–∞.
